---
title: "Análise de dados Emplacamentos 2024"
author: "Guilherme Vasconcelos"
format: html
editor: source
lang: pt-BR
---

```{r}
#| label: setup
#| include: false

library(openxlsx)
library(tidyverse)
library(kableExtra)
```



## Importação dos dados

Baixei o arquivo `siteautoveiculos2024.xlsx`, na pasta `emplacamentos_2024/dados/`.

Importando os dados do arquivo

```{r}
#| label: importa

nacionais.bruto <-
  openxlsx::read.xlsx(
    xlsxFile = "dados/siteautoveiculos2024.xlsx", 
    sheet = 2, 
    rows = 6:17
  )

importados.bruto <-
  openxlsx::read.xlsx(
    xlsxFile = "dados/siteautoveiculos2024.xlsx", 
    sheet = 2, 
    rows = 25:36
  )

nacionais.bruto |> 
  kable()

importados.bruto|> 
  kable()
```



## Manunseio dos dados

```{r}
#| label: monta-principal

emplacamentos <-
  bind_rows(
    nacionais.bruto |> 
      mutate(
        origem = "nacional",
        .before = everything()
      ),
    importados.bruto |> 
      mutate(
        origem = "importado",
        .before = everything()
      )
  ) |> 
  tidyr::fill(X1) |> 
  rename(
    categoria = X1,
    tipo = X2
  ) |> 
  filter(
    !is.na(tipo)
    | categoria == "Ônibus" 
  ) |> 
  mutate(
    tipo = if_else(is.na(tipo), categoria, tipo)
  ) |> 
  select(- Total.Ano) |> 
  pivot_longer(
    cols = Jan:Dez,
    names_to = "mês",
    values_to = "emplacamentos"
  )
```



## Crítica dos dados




## Análise descritiva dos dados



## To-do list

Próximos passos
- definir quais críticas fazer no dataframe resultante
- definir quais descritivas fazer
- se não for fazer nenhuma análise, definir como será o relatório final
- concluir o primeiro mini projeto
